---
id: "browse"
---

extends ../_layouts/_master.pug

block content


    #map-spacer(v-if="show_map === true")
    
    // map is empty by default - only certain pages will fill this region
    #map(v-cloak v-if="show_map === true")

    #map-prompt(v-cloak v-if="prompt_for_map && show_map === false")
        a(@click="handleShowMap")
            span.icon
                i.fas.fa-map
            span Show Map

    // markers view
    #markers-view(v-if="show_markers")


        #markers(v-cloak)
            p(v-if="loaded && !m_docs.length" ) There are no supply stations or vehicles reported yet. Please check back soon.

            div(v-if="loaded && m_docs.length")
                .panel(v-bind:data-id="marker._id" v-for="marker in m_docs" v-if="marker.title")
                    .panel-heading(@click="handleMarkerSelect(marker)")
                        h4 {{ marker.title }}
                    .panel-block(v-for="item in i_docs" v-if="item.parent == marker._id" @click="handleItemSelect(item, marker)" v-bind:data-id="item._id")
                        
                        span.icon.is-large(v-bind:style="makeCategoryStyle(getCategory(item.category))") 
                            i(v-bind:class="makeCategoryIconClass(getCategory(item.category))")

                        p {{ getCategoryName(item) }}



block styles
    link(rel="stylesheet" type="text/css" href="/lib/map.css")
    link(rel="stylesheet" type="text/css" href="/browse/browse.css")

block scripts
    script(src="/lib/map.js")
    script(src="/browse/browse.js")
